app:
  name: LogCollectorOS
  code: LCOS
  notify: srswain@ecloudcontrol.com

build:
  version: 2.13
  env: DEV
  build_file: none
  output_files: output/*.zip
  image_template: opensearch-2.13
  #image_name: sranjan1995/O-collector-es

deploy:
  context: sranjan1995/DEV
  type: statefulset 
  replicas: 7
  port:
  - 9200
  - 9300
  - 9600

volumes:
- claim: opensearch-data
  mount: /appz/data
  name: opensearch-data
  size: 20Gi
  mode: ReadWriteOnce
  class: microk8s-hostpath
monitor:
  notify: srswain@ecloudcontrol.com      

properties:
  revision : 48
  OPENSEARCH_INITIAL_ADMIN_PASSWORD: 
    vault: OPENSEARCH_INITIAL_ADMIN_PASSWORD
  NODE_MODE : multi-node
  MAX_RESULT_WINDOW : 10000000
  ENABLE_ILM : 1
  JAVA_HEAPSIZE : 12g 
  MIN_AGE_WARM : 2d
  MIN_AGE_COLD : 7d
  ENABLE_FLUENTD : 0
  REPLICA_COUNT : 7
